def read_graph_from_file(filename):
    with open(filename, "r") as file:
        n = int(file.readline())
        graph = {i: [] for i in range(1, n + 1)}
        for line in file:
            if line.strip():
                u, v = map(int, line.strip().split())
                graph[u].append(v)
    return graph


def dfs(start, graph, visited):
    visited.add(start)
    for neighbor in graph[start]:
        if neighbor not in visited:
            dfs(neighbor, graph, visited)


def find_root_vertex(graph):
    for vertex in graph:
        visited = set()
        dfs(vertex, graph, visited)
        if len(visited) == len(graph):
            return vertex
    return -1


def main():
    graph = read_graph_from_file("input.txt")
    root = find_root_vertex(graph)
    with open("output.txt", "w") as file:
        file.write(str(root))


if __name__ == "__main__":
    main()
